{"version":3,"file":"static/js/932.a0dd1f4d.chunk.js","mappings":"2NACA,G,QAAuB,oBAAvB,EAAqF,qBAArF,EAAsH,wBAAtH,EAAqJ,mBAArJ,EAAmL,uB,6BCmDnL,EA/CkB,SAACA,GAUjB,OACE,gBAAIC,UAAWC,EAAf,WACE,iBAAKD,UAAWC,EAAhB,WACE,SAAC,KAAD,CAASC,GAAI,YAAcH,EAAMI,KAAKC,GAAIJ,UAAWC,EAArD,UACE,gBACEI,IAC8B,MAA5BN,EAAMI,KAAKG,cACPP,EAAMI,KAAKG,cACXC,EAENC,IAAI,WAGR,mBACEC,SAAUV,EAAMW,oBAAoBC,MAClC,SAACP,GAAD,OAAQA,IAAOL,EAAMI,KAAKC,MAE5BQ,QAzBe,WACjBb,EAAMI,KAAKU,YACbd,EAAMe,SAASf,EAAMI,KAAKC,IAE1BL,EAAMgB,OAAOhB,EAAMI,KAAKC,KAsBpBY,MACEjB,EAAMI,KAAKU,YACP,CAAEI,gBAAiB,sBACnB,CAAEA,gBAAiB,sBAR3B,SAWGlB,EAAMI,KAAKU,YAAc,WAAa,eAG3C,gBAAKb,UAAWC,EAAhB,UACE,SAAC,KAAD,CAASC,GAAI,YAAcH,EAAMI,KAAKC,GAAtC,UACE,wBAAKL,EAAMI,KAAKe,gBAGpB,gBAAKlB,UAAWC,EAAhB,SAAiCF,EAAMI,KAAKgB,qBC9ClD,EAAwB,qBCgDxB,EA5Cc,SAACpB,GACb,MAAgCqB,EAAAA,SAAe,GAA/C,eAAOC,EAAP,KAAiBC,EAAjB,KAEAF,EAAAA,WAAgB,WACd,OAAO,WACLrB,EAAMwB,gBAEP,IAEHH,EAAAA,WAAgB,WACdrB,EAAMyB,SAASH,EAAUtB,EAAM0B,YAC9B,CAACJ,IAEJ,IAAMK,EAAQ3B,EAAM2B,MAAMC,KAAI,SAACxB,GAAD,OAC5B,SAACyB,EAAD,CAEEzB,KAAMA,EACN0B,aAAc9B,EAAM8B,aACpBnB,oBAAqBX,EAAMW,oBAC3BoB,0BAA2B/B,EAAM+B,0BACjChB,SAAUf,EAAMe,SAChBC,OAAQhB,EAAMgB,QANTZ,EAAKC,OASd,OACE,gBAAKJ,UAAWC,EAAhB,UACE,4BACE,wBAAKyB,IACJ3B,EAAMgC,YACL,yCAEA,mBACEnB,QAAS,WACPU,EAAYD,EAAW,IAF3B,6BC8BV,GAAeW,EAAAA,EAAAA,KACbC,EAAAA,EAAAA,KAZoB,SAACC,GACrB,MAAO,CACLR,MAAOQ,EAAMC,UAAUT,MACvBD,SAAUS,EAAMC,UAAUV,SAC1BW,gBAAiBF,EAAMC,UAAUC,gBACjCC,YAAaH,EAAMC,UAAUE,YAC7BN,WAAYG,EAAMC,UAAUJ,WAC5BrB,oBAAqBwB,EAAMC,UAAUzB,uBAKd,CACvBc,SAAAA,EAAAA,GACAV,SAAAA,EAAAA,GACAC,OAAAA,EAAAA,GACAQ,WAAAA,EAAAA,KAEFe,EAAAA,EAPF,CAQEC,I,iJCtEIC,EAA6B,SAACN,GAAD,MAAY,CAC3CO,OAAQP,EAAMQ,KAAKD,SAGVH,EAAmB,SAACK,GAAe,IACtCC,EADqC,0IAEvC,WACI,OAAIC,KAAK9C,MAAM0C,QAIR,SAACE,GAAD,UAAeE,KAAK9C,SAHhB,SAAC,KAAD,CAAUG,GAAI,eAJU,GACXkB,EAAAA,WAUhC,OAAOa,EAAAA,EAAAA,IAAQO,EAARP,CAAoCW,K","sources":["webpack://way-samurai/./src/components/Content/Users/UserItem/User.module.css?160f","components/Content/Users/UserItem/User.jsx","webpack://way-samurai/./src/components/Content/Users/Users.module.css?df65","components/Content/Users/Users.jsx","components/Content/Users/UsersContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__uDidt\",\"location\":\"User_location__aT3Jr\",\"status\":\"User_status__OFWkH\",\"name_pers\":\"User_name_pers__SorrK\",\"pers\":\"User_pers__h-ZTy\",\"img_wrap\":\"User_img_wrap__9X5RY\"};","import React from \"react\";\r\nimport classes from \"./User.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport userPhoto from \"../../../../assets/images/user.png\";\r\n\r\nconst UserItems = (props) => {\r\n\r\n  const onToggleFollow = () => {\r\n    if (props.user.is_followed) {\r\n      props.unfollow(props.user.id)\r\n    } else {\r\n      props.follow(props.user.id)\r\n    }\r\n  };\r\n\r\n  return (\r\n    <li className={classes.user}>\r\n      <div className={classes.pers}>\r\n        <NavLink to={\"/profile/\" + props.user.id} className={classes.img_wrap} >\r\n          <img\r\n            src={\r\n              props.user.profile_image != null\r\n                ? props.user.profile_image\r\n                : userPhoto\r\n            }\r\n            alt=\"ava\"\r\n          />\r\n        </NavLink>\r\n        <button\r\n          disabled={props.followingInProgress.some(\r\n            (id) => id === props.user.id\r\n          )}\r\n          onClick={onToggleFollow}\r\n          style={\r\n            props.user.is_followed\r\n              ? { backgroundColor: \"rgb(197, 197, 197)\" }\r\n              : { backgroundColor: \"rgb(100, 206, 255)\" }\r\n          }\r\n        >\r\n          {props.user.is_followed ? \"Unfollow\" : \"Follow\"}\r\n        </button>\r\n      </div>\r\n      <div className={classes.name_pers}>\r\n        <NavLink to={\"/profile/\" + props.user.id}>\r\n          <h3>{props.user.username}</h3>\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.status}>{props.user.display_status}</div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default UserItems;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"users\":\"Users_users__9nZlr\",\"pagination\":\"Users_pagination__wi40X\",\"active_page\":\"Users_active_page__2aqyU\"};","import React from \"react\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport User from \"./UserItem/User\";\r\nimport classes from \"./Users.module.css\";\r\n\r\nconst Users = (props) => {\r\n  const [currPage, setCurrPage] = React.useState(1);\r\n\r\n  React.useEffect(() => {\r\n    return () => {\r\n      props.clearState();\r\n    };\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    props.getUsers(currPage, props.pageSize);\r\n  }, [currPage]);\r\n\r\n  const users = props.users.map((user) => (\r\n    <User\r\n      key={user.id}\r\n      user={user}\r\n      toggleFollow={props.toggleFollow}\r\n      followingInProgress={props.followingInProgress}\r\n      toggleFollowingInProgress={props.toggleFollowingInProgress}\r\n      unfollow={props.unfollow}\r\n      follow={props.follow}\r\n    />\r\n  ));\r\n  return (\r\n    <div className={classes.users}>\r\n      <div>\r\n        <ul>{users}</ul>\r\n        {props.isFetching ? (\r\n          <div>Loading...</div>\r\n        ) : (\r\n          <button\r\n            onClick={() => {\r\n              setCurrPage(currPage + 1);\r\n            }}\r\n          >\r\n            show more\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { connect } from \"react-redux\";\r\nimport {\r\n  getUsers,\r\n  unfollow,\r\n  follow,\r\n  clearState,\r\n} from \"../../../redux/users-reducer\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../../hoc/withAuthRedirect\";\r\nimport Users from \"./Users\";\r\n\r\n// const Users = (props) => {\r\n//   const [currPage, setCurrPage] = useState(1);\r\n\r\n//   useEffect(() => {\r\n//     return () => {\r\n//       props.clearState();\r\n//     };\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     props.getUsers(currPage, props.pageSize);\r\n//   }, [currPage]);\r\n\r\n//   const users = props.users.map((user) => (\r\n//     <User\r\n//       key={user.id}\r\n//       user={user}\r\n//       toggleFollow={props.toggleFollow}\r\n//       followingInProgress={props.followingInProgress}\r\n//       toggleFollowingInProgress={props.toggleFollowingInProgress}\r\n//       unfollow={props.unfollow}\r\n//       follow={props.follow}\r\n//     />\r\n//   ));\r\n//   return (\r\n//     <div className={classes.users}>\r\n//       <div>\r\n//         <ul>{users}</ul>\r\n//         {props.isFetching ? (\r\n//           <div>Loading...</div>\r\n//         ) : (\r\n//           <button\r\n//             onClick={() => {\r\n//               setCurrPage(currPage + 1);\r\n//             }}\r\n//           >\r\n//             show more\r\n//           </button>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: state.usersPage.users,\r\n    pageSize: state.usersPage.pageSize,\r\n    totalUsersCount: state.usersPage.totalUsersCount,\r\n    currentPage: state.usersPage.currentPage,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingInProgress: state.usersPage.followingInProgress,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUsers,\r\n    unfollow,\r\n    follow,\r\n    clearState,\r\n  }),\r\n  withAuthRedirect\r\n)(Users);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) {\r\n                return <Navigate to={'/login'} />\r\n            }\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}"],"names":["props","className","classes","to","user","id","src","profile_image","userPhoto","alt","disabled","followingInProgress","some","onClick","is_followed","unfollow","follow","style","backgroundColor","username","display_status","React","currPage","setCurrPage","clearState","getUsers","pageSize","users","map","User","toggleFollow","toggleFollowingInProgress","isFetching","compose","connect","state","usersPage","totalUsersCount","currentPage","withAuthRedirect","Users","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","this"],"sourceRoot":""}