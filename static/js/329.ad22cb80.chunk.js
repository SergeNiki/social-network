"use strict";(self.webpackChunkway_samurai=self.webpackChunkway_samurai||[]).push([[329],{4329:function(t,e,s){s.r(e),s.d(e,{default:function(){return w}});var n=s(8683),r=s(5671),a=s(3144),i=s(136),u=s(3668),o=s(2791),l=s(7581),p="Profile_profile__xnAUD",c="ProfileInfo_profileInfo__3vhm1",f="ProfileInfo_personInfo__I59t1",d=s(4353),h=s(885),x=s(184),j=function(t){var e=(0,o.useState)(!1),s=(0,h.Z)(e,2),n=s[0],r=s[1],a=(0,o.useState)(t.status),i=(0,h.Z)(a,2),u=i[0],l=i[1];return(0,o.useEffect)((function(){l(t.status)}),[t.status]),(0,x.jsx)("div",{children:n?(0,x.jsxs)("div",{children:[(0,x.jsx)("input",{onChange:function(t){l(t.target.value)},autoFocus:!0,value:u}),(0,x.jsx)("button",{onClick:function(){u!==t.status&&t.updateStatus(u),r(!n)},children:"save"})]}):(0,x.jsx)("span",{onDoubleClick:function(){return r(!n)},children:t.status})})},v=function(t){return(0,x.jsxs)("div",{className:c,children:[(0,x.jsx)("img",{src:t.profile.profile_image?t.profile.profile_image:d,alt:"ava"}),(0,x.jsxs)("div",{className:f,children:[(0,x.jsx)("h3",{children:null!=t.profile.username?t.profile.username:"NoName"}),(0,x.jsx)("p",{children:null!=t.profile.bio?t.profile.bio:"NoInfo"}),(0,x.jsx)(j,{status:t.profile.display_status,updateStatus:t.updateStatus})]})]})},m=s(6070),_="Post_post__c-ImK",g=function(t){return(0,x.jsxs)("div",{className:_,children:[(0,x.jsx)("img",{src:"https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg",alt:"ava"}),(0,x.jsx)("p",{children:t.text}),(0,x.jsxs)("span",{children:["Likes: ",t.likes]})]})},y=s(5705),k="MyPosts_form_block__Lhs94",P=function(t){var e=t.addPost,s=(0,y.TA)({initialValues:{postText:""},onSubmit:function(t,s){var n=s.resetForm;t.postText&&e(t.postText),n()}});return(0,x.jsxs)("form",{onSubmit:s.handleSubmit,className:k,children:[(0,x.jsx)("div",{children:(0,x.jsx)("input",{type:"text",name:"postText",placeholder:"What's new?",onChange:s.handleChange,value:s.values.postText})}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{type:"submit",disabled:!s.values.postText,children:"Post"})})]})},Z=function(t){var e=t.postsData,s=t.addPost,n=e.map((function(t){return(0,x.jsx)(g,{text:t.text,likes:t.likesCount},t.id)}));return(0,x.jsxs)("div",{children:[(0,x.jsx)("h4",{children:"My posts:"}),(0,x.jsx)("div",{children:(0,x.jsx)(P,{addPost:s})}),n]})},b=(0,l.$j)((function(t){return{postsData:t.profilePage.postsData}}),{addPost:m.q2})(Z),I=s(3276),S=function(t){return t.profile?(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)(v,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,x.jsx)(b,{})]}):(0,x.jsx)(I.Z,{})},C=s(6871),D=s(1548),N=s(7781),T=function(t){(0,i.Z)(s,t);var e=(0,u.Z)(s);function s(){var t;(0,r.Z)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).componentDidMount=function(){t.props.getUserProfile(t.props.userId)},t}return(0,a.Z)(s,[{key:"render",value:function(){return(0,x.jsx)(S,(0,n.Z)({},this.props))}}]),s}(o.Component),w=(0,N.qC)((0,l.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,myUserID:t.auth.id}}),{getUserProfile:m.et,getUserStatus:m.Tq,updateStatus:m.Nf}),(function(t){return function(e){var s=(0,C.UO)();return s.userId?(0,x.jsx)(t,(0,n.Z)((0,n.Z)({},e),{},{userId:s.userId})):(0,x.jsx)(C.Fg,{to:"/profile/".concat(e.myUserID)})}}),D.D)(T)},1548:function(t,e,s){s.d(e,{D:function(){return d}});var n=s(8683),r=s(5671),a=s(3144),i=s(136),u=s(3668),o=s(2791),l=s(7581),p=s(6871),c=s(184),f=function(t){return{isAuth:t.auth.isAuth}},d=function(t){var e=function(e){(0,i.Z)(o,e);var s=(0,u.Z)(o);function o(){return(0,r.Z)(this,o),s.apply(this,arguments)}return(0,a.Z)(o,[{key:"render",value:function(){return this.props.isAuth?(0,c.jsx)(t,(0,n.Z)({},this.props)):(0,c.jsx)(p.Fg,{to:"/login"})}}]),o}(o.Component);return(0,l.$j)(f)(e)}},4353:function(t,e,s){t.exports=s.p+"static/media/user.a6143582309785dca610.png"}}]);
//# sourceMappingURL=329.ad22cb80.chunk.js.map