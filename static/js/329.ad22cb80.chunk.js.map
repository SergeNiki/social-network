{"version":3,"file":"static/js/329.ad22cb80.chunk.js","mappings":"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","sources":["webpack://way-samurai/./src/components/Content/Profile/Profile.module.css?6da8","webpack://way-samurai/./src/components/Content/Profile/Info/ProfileInfo.module.css?ec17","components/Content/Profile/Info/ProfileStatus.jsx","components/Content/Profile/Info/ProfileInfo.jsx","webpack://way-samurai/./src/components/Content/Profile/MyPosts/Post/Post.module.css?633c","components/Content/Profile/MyPosts/Post/Post.jsx","webpack://way-samurai/./src/components/Content/Profile/MyPosts/MyPosts.module.css?2f9f","components/Content/Profile/MyPosts/PostForm.jsx","components/Content/Profile/MyPosts/MyPosts.jsx","components/Content/Profile/MyPosts/MyPostsContainer.jsx","components/Content/Profile/Profile.jsx","components/Content/Profile/ProfileContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profile\":\"Profile_profile__xnAUD\"};","// extracted by mini-css-extract-plugin\nexport default {\"profileInfo\":\"ProfileInfo_profileInfo__3vhm1\",\"personInfo\":\"ProfileInfo_personInfo__I59t1\"};","import React, { useEffect, useState } from \"react\";\r\n\r\nconst ProfileStatus = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  let onStatusChange = (e) => {\r\n    setStatus(e.target.value);\r\n  };\r\n\r\n  let saveNewStatus = () => {\r\n    if (status !== props.status) {\r\n      props.updateStatus(status);\r\n    }\r\n    setEditMode(!editMode);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status])\r\n\r\n  return (\r\n    <div>\r\n      {!editMode ? (\r\n        <span onDoubleClick={() => setEditMode(!editMode)}>{props.status}</span>\r\n      ) : (\r\n        <div>\r\n          <input\r\n            // onBlur={() => setEditMode(!editMode)}\r\n            onChange={onStatusChange}\r\n            autoFocus\r\n            value={status}\r\n          />\r\n          <button onClick={saveNewStatus}>save</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatus;\r\n","import React from \"react\";\r\nimport classes from \"./ProfileInfo.module.css\";\r\nimport userPhoto from \"./../../../../assets/images/user.png\"\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n  return (\r\n    <div className={classes.profileInfo}>\r\n      <img\r\n        src={props.profile.profile_image ? props.profile.profile_image : userPhoto }\r\n        alt=\"ava\"\r\n      />\r\n      <div className={classes.personInfo}>\r\n        <h3>{props.profile.username != null ? props.profile.username : \"NoName\"}</h3>\r\n        <p>{props.profile.bio != null ? props.profile.bio : \"NoInfo\"}</p>\r\n        <ProfileStatus status={props.profile.display_status} updateStatus={props.updateStatus} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"post\":\"Post_post__c-ImK\"};","import React from \"react\";\r\nimport classes from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={classes.post}>\r\n      <img\r\n        src=\"https://shapka-youtube.ru/wp-content/uploads/2021/02/avatarka-dlya-skaypa-dlya-parney.jpg\"\r\n        alt=\"ava\"\r\n      />\r\n      <p>{props.text}</p>\r\n      <span>Likes: {props.likes}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"form_block\":\"MyPosts_form_block__Lhs94\"};","import { useFormik } from \"formik\";\r\nimport classes from \"./MyPosts.module.css\";\r\n\r\nconst PostForm = ({ addPost }) => {\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      postText: \"\",\r\n    },\r\n    onSubmit: (values, {resetForm}) => {\r\n      if (values.postText) addPost(values.postText);      \r\n      resetForm()\r\n    },\r\n  });\r\n\r\n  return (\r\n    <form onSubmit={formik.handleSubmit} className={classes.form_block} >\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          name=\"postText\"\r\n          placeholder=\"What's new?\"\r\n          onChange={formik.handleChange}\r\n          value={formik.values.postText}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\" disabled={!formik.values.postText}>\r\n          Post\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PostForm;\r\n","import React from \"react\";\r\nimport Post from \"./Post/Post\";\r\nimport PostForm from \"./PostForm\";\r\n\r\nconst MyPosts = ({ postsData, addPost }) => {\r\n  const posts = postsData.map((post) => (\r\n    <Post key={post.id} text={post.text} likes={post.likesCount} />\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <h4>My posts:</h4>\r\n      <div>\r\n        <PostForm addPost={addPost} />\r\n      </div>\r\n      {posts}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyPosts;\r\n","import { connect } from \"react-redux\";\r\nimport { addPost } from \"../../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    postsData: state.profilePage.postsData,\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, { addPost })(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from \"react\";\r\nimport classes from \"./Profile.module.css\";\r\nimport ProfileInfo from \"./Info/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nconst Profile = (props) => {\r\n  if(!props.profile) {\r\n    return <Preloader/>\r\n  }\r\n  return (\r\n    <div className={classes.profile}>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport {\r\n  getUserProfile,\r\n  getUserStatus,\r\n  updateStatus\r\n} from \"./../../../redux/profile-reducer\";\r\nimport { Navigate, useParams } from \"react-router-dom\";\r\nimport { withAuthRedirect } from \"../../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount = () => {\r\n    this.props.getUserProfile(this.props.userId);\r\n    // this.props.getUserStatus(this.props.userId);\r\n  };\r\n\r\n  render() {\r\n    return <Profile {...this.props} />;\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  myUserID: state.auth.id,\r\n  // isAuth: state.auth.isAuth,\r\n});\r\n\r\nconst withRouter = (Component) => {\r\n  let RouterComponent = (props) => {\r\n    let params = useParams();\r\n    if (!params.userId) {\r\n      return <Navigate to={`/profile/${props.myUserID}`} />;\r\n    }\r\n    return <Component {...props} userId={params.userId} />;\r\n  };\r\n  return RouterComponent;\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    updateStatus\r\n  }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) {\r\n                return <Navigate to={'/login'} />\r\n            }\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}"],"names":["props","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","target","value","autoFocus","onClick","updateStatus","onDoubleClick","className","classes","src","profile","profile_image","userPhoto","alt","username","bio","display_status","text","likes","addPost","formik","useFormik","initialValues","postText","onSubmit","values","resetForm","handleSubmit","type","name","placeholder","handleChange","disabled","postsData","posts","map","post","likesCount","id","connect","state","profilePage","MyPosts","Preloader","ProfileContainer","componentDidMount","getUserProfile","userId","this","React","compose","myUserID","auth","getUserStatus","Component","params","useParams","to","withAuthRedirect","mapStateToPropsForRedirect","isAuth","RedirectComponent"],"sourceRoot":""}